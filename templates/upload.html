{% extends 'layout.html' %}

{% block body %}

<style>
    input {padding:5px 15px;
    		background-color: #f0f0f5; 
    		border:0 none;
			cursor:pointer;
			-webkit-border-radius: 5px;
			border-radius: 5px; }
	li{
		style="list-style: none;
	}
	
	#image {
	    margin-left: auto; 
	    margin-right:auto; 
	    display:block;
	}

</style>

<div class="panel panel-default" style="margin-top:2%;background-color:rgba(255,255,255,.8);color:#5e5e5e;padding:50px;">
  <h1>Upload</h1><br>
  		<img id="image" style="height:auto;width:auto;max-height:512px;max-width:512px;"/><br><br>
	  		  {% from "includes/_formhelpers.html" import render_field %}
	  		  <form method="POST" action="" enctype=multipart/form-data>
				<input id="files" type=file name=file><br>
			    <div class="form-group">
			      {{render_field(form.wname, class_="form-control")}}
			    </div>
			    <div class="form-group">
			      {{render_field(form.description, class_="form-control", cols="20", rows="4")}}
			    </div>
			    <p><input type="submit" class="btn btn-primary" value="Upload"></p>
			  </form>

</div>

<script>
document.getElementById("files").onchange = function () {
    var reader = new FileReader();

    reader.onload = function (e) {

        document.getElementById("image").src = e.target.result;
    };

    reader.readAsDataURL(this.files[0]);
};

</script>

{% endblock %}/>